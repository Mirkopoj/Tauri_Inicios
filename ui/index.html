<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<script src="https://cdn.plot.ly/plotly-2.20.0.min.js" charset="utf-8"></script>
	</head>
	
	<body>
		<h1 id="header">Hola mundo</h1>
		<h2 id="ls">Hola mundo</h2>
		<script>
			const { invoke } = window.__TAURI__.tauri
			invoke('greet', { name: 'Genios'})
				.then((response)=>{
					window.header.innerHTML = response
				})
			invoke('ls', {args: ["-l", "-a"]})
				.then((response)=>{
					window.ls.innerHTML = response
				})
		</script>

		<button onclick="clickText()">¡Apretá este botón para abrir un archivo mágico!</button>
		<p id="btn"></p>
		<script>
		function clickText() {
			invoke('button')
				.then((response)=>{
					window.btn.innerHTML = response
				})
		}
		</script>
		
		<button onclick = "clickText1()">¡Apretá el botón para ver el gráfico!</button>
		<p id="btn1"></p>
		<div id="tester" style="width:600px;height:250px;"></div>
		<script>
			function clickText1(){
				invoke('button1')
					.then((response)=>{
						window.btn1.innerHTML = response
					})
			}
			TESTER = document.getElementById('tester');
			var x = [];
			for (var i=1;i<=10;i=i+0.01){
				x.push(i);
			}
			invoke('grafico').then((response)=>{
				console.log(response);
				Plotly.newPlot( TESTER, [{
				x: x,
				y: response.arr }], {
				margin: { t: 0 } } );
			})
		</script>
	</body>
</html>

